var parser=function(){var r={};r.fromSrt=function(r,e,n){var i=n?!0:!1;r=r.replace(/\r/g,"");var s=/(\d+)?\n?(\d{2}:\d{2}:\d{2}[,.]\d{3}) --> (\d{2}:\d{2}:\d{2}[,.]\d{3}).*\n/g;r=r.split(s),r.shift();for(var a=[],o=0;o<r.length;o+=4){var d=r[o+3];i&&(d=d.split("\n"),d.shift(),d=d.join("\n")),0!==d.trim().length&&a.push({id:r[o]?+r[o].trim():a.length+1,startTime:t(r[o+1].trim(),e),endTime:t(r[o+2].trim(),e),text:d.trim()})}return a},r.toSrt=function(t){if(!t instanceof Array)return"";for(var e="",n=0;n<t.length;n++){var i=t[n];isNaN(i.startTime)||isNaN(i.endTime)||(i.startTime=r.msToSrt(parseInt(i.startTime,10)),i.endTime=r.msToSrt(parseInt(i.endTime,10))),e+=i.id+"\r\n",e+=i.startTime+" --> "+i.endTime+"\r\n",e+=i.text.replace("\n","\r\n")+"\r\n\r\n"}return e};var t=function(t,e){return"ms"===e?r.srtToMs(t):"s"===e?r.srtToMs(t)/1e3:t};return r.srtToMs=function(r){var t=/(\d+):(\d{2}):(\d{2})[,.](\d{3})/,e=t.exec(r);if(null===e)return 0;for(var n=1;5>n;n++)e[n]=parseInt(e[n],10),isNaN(e[n])&&(e[n]=0);return 36e5*e[1]+6e4*e[2]+1e3*e[3]+e[4]},r.msToSrt=function(r){var t=[36e5,6e4,1e3],e=[];for(var n in t){var i=(r/t[n]>>0).toString();i.length<2&&(i="0"+i),r%=t[n],e.push(i)}var r=r.toString();if(r.length<3)for(n=0;n<=3-r.length;n++)r="0"+r;return e.join(":")+","+r},r}();"object"==typeof exports&&(module.exports=parser);